<!DOCTYPE html>
<html data-layout-decorate="~{fragments/layout}" lang="en">
<head>
    <link rel="stylesheet" th:href="@{/css/steps-trans-dtl-ln.css}">
    <title></title>
    <link rel="stylesheet" th:href="@{/css/easyAutocomplete/easy-autocomplete.min.css}"/>
    <script th:src="@{/js/easyAutocomplete/autocomplete.js}"></script>
    <script th:src="@{/js/easyAutocomplete/jquery.easy-autocomplete.min.js}"></script>
    <script th:src="@{/js/stepTrans/step-trans-dtl-ln.js}"></script>
</head>

<body>
<div class="right_col" data-layout-fragment="content" role="main">
    <div class="row">
        <div class="col-sm-12">
            <!--<div class="container">-->
            <div class="panel panel-default">
                <!-- Default panel contents -->
                <div class="panel-heading">Step Transaction Details</div>
                <div class="panel-body">
                    <form method="post"
                          th:action="@{'/step-trans-dtl/create-ln/'
                                    + ${pageId} + '/'
                                    + ${tempDtlId} + '/'
                                    + ${orgId} + '/'
                                    + ${invOrgId} + '/'
                                    + ${stepTransDtlId}}"
                          th:object="${stepTransDtlLnReq}">

                        <!-- Line ID -->
                        <input type="hidden" th:field="*{stepTransDtlLnId}"/>

                        <!-- Parent Detail ID -->
                        <input type="hidden" th:field="*{stepTransDtlId}"/>
                        <input class="form-control" id="orgId" readonly
                               th:value="${orgId}" type="hidden"/>
                        <input class="form-control" id="invOrgId" readonly
                               th:value="${invOrgId}" type="hidden"/>

                        <!-- Inventory Item ID (numeric only, unlimited) -->
<!--                        <div class="form-group col-sm-12">-->
<!--                            <label class="col-sm-3 control-label">Inventory Item ID</label>-->
<!--                            <div class="col-sm-1"><b>:</b></div>-->
<!--                            <div class="col-sm-8">-->
<!--                                <input class="form-control"-->
<!--                                       type="text"-->
<!--                                       placeholder="Enter Inventory Item ID"-->
<!--                                       th:field="*{invItemId}">-->
<!--                            </div>-->
<!--                        </div>-->

                        <!-- Ordered Item -->
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">Ordered Item</label>
                            <div class="col-sm-1"><b>:</b></div>
                            <div class="col-sm-8">
                                <input class="form-control"
                                       id="orderedItem"
                                       type="text"
                                       placeholder="Enter Ordered Item"
                                       th:field="*{orderedItem}">
                                <input class="form-control"
                                       id="invItemId"
                                       type="hidden"
                                       placeholder="Enter Inventory Item ID"
                                       th:field="*{invItemId}">
                            </div>
                        </div>

                        <!-- Ordered Quantity (numeric, unlimited, decimals allowed) -->
                        <div class="form-group col-sm-12">
                            <label class="col-sm-3 control-label">Ordered Quantity</label>
                            <div class="col-sm-1"><b>:</b></div>
                            <div class="col-sm-8">
                                <input class="form-control"
                                       type="text"
                                       inputmode="decimal"
                                       placeholder="Enter Quantity"
                                       oninput="this.value = this.value.replace(/[^0-9.]/g, '');"
                                       th:field="*{orderedQuantity}">
                            </div>
                        </div>

                        <!-- Buttons -->
                        <div class="form-group col-sm-12 Padding10px">
                            <button class="btn btn-primary"
                                    th:text="${stepTransDtlLnReq.stepTransDtlLnId != null ? 'Update' : 'Create'}"
                                    type="submit">
                            </button>

                            <a class="btn cancel-btn"
                               th:href="@{'/step-trans-dtl/stepTransDtlLns/'
                                        + ${pageId} + '/'
                                        + ${tempDtlId} + '/'
                                        + ${orgId} + '/'
                                        + ${invOrgId} + '/'
                                        + ${stepTransDtlId}}">
                                Clear
                            </a>

                        </div>

                    </form>



                    <table class="table table-hover table-bordered custom-gray-table text-dark text-center">
                        <thead>
                        <tr>
                            <th>Line No</th>

                            <th>Ordered Item</th>
                            <th>Ordered Quantity</th>
                            <th>Created At</th>
                            <th>Actions</th>
                        </tr>
                        </thead>

                        <tbody>
                        <tr th:each="line : ${stepTransDtlLnList}">
                            <td th:text="${line.stepTransDtlLnNo}"></td>
                            <td th:text="${line.orderedItem}"></td>
                            <td th:text="${line.orderedQuantity}"></td>
                            <td th:text="${#dates.format(line.createdAt, 'dd-MM-yyyy')}"></td>
                            <td>
                                <a class="btn btn-success"
                                   th:href="@{'/step-trans-dtl/update-dtl-ln/'
                                            + ${pageId} + '/'
                                            + ${tempDtlId} + '/'
                                            + ${orgId} + '/'
                                            + ${invOrgId} + '/'
                                            + ${line.stepTransDtlId} + '/'
                                            + ${line.stepTransDtlLnId}}">
                                    <span class="glyphicon glyphicon-edit"></span>
                                </a>

                            </td>
                        </tr>
                        </tbody>
                    </table>


            </div>
        </div>
    </div>
</div>
</body>
</html>
